/**
 * ðŸ† Tenders Page
 * 
 * Live tender opportunities from our comprehensive RFP analysis system (40 real opportunities)
 */

'use client';

import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { 
  Search, 
  Building2, 
  MapPin, 
  PoundSterling, 
  Calendar, 
  ExternalLink, 
  RefreshCw, 
  Filter, 
  Download,
  Eye,
  Target,
  Clock
} from 'lucide-react';

// Import comprehensive RFP opportunities from shared database
import { comprehensiveRfpOpportunities } from '@/lib/comprehensive-rfp-opportunities';

const realOpportunities = comprehensiveRfpOpportunities;
  {
    "id": "IOC_Olympic_Committe_Venue_Temporary_Infrastructure_s244q4",
    "title": "Venue Temporary Infrastructure Cost Management & Control Solution",
    "organization": "IOC Olympic Committee",
    "location": "Global",
    "value": "Â£800K-Â£1.5M",
    "deadline": "August 6, 2025 (RFEI Submission)",
    "published": "2025-10-10T11:07:58.560Z",
    "source": "AI Analysis",
    "category": "International Olympic Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "The International Olympic Committee has issued a Request for Expression of Interest for comprehensive venue temporary infrastructure cost management and control solutions for Olympic Games. This represents a major strategic partnership opportunity for Olympic Games delivery and management services.",
    "url": "https://olympics.com/ioc/news/request-for-expressions-of-interest-venue-temporary-infrastructure-cost-management-control-solution",
    "yellow_panther_fit": 95,
    "contact": null,
    "priority_score": 10,
    "confidence": 0.85
  },
  {
    "id": "World_Athletics_Results_and_Statistics_Service_pu1qzo",
    "title": "Results and Statistics Service Provider (2026-2031)",
    "organization": "World Athletics",
    "location": "Global",
    "value": "Â£1.5M-Â£2.5M",
    "deadline": "March 28, 2025",
    "published": "2025-10-10T11:07:58.559Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "World Athletics has opened a major public tender for a comprehensive results and statistical service provider. This is a critical 5-year contract covering results processing, competitions management, records management, athlete management, and rankings management for global athletics. The service processes approximately 1.2 million results annually from about 10,000 competitions involving 170,000 athletes worldwide.",
    "url": "https://worldathletics.org/news/news/tender-request-proposal-results-statistics-service",
    "yellow_panther_fit": 95,
    "contact": null,
    "priority_score": 10,
    "confidence": 0.85
  },
  {
    "id": "Digital_India_Corpor_Comprehensive_Digital_Event_an_yrdm8k",
    "title": "Comprehensive Digital Event and Engagement Solution with Multilingual Content Management",
    "organization": "Digital India Corporation",
    "location": "India",
    "value": "Â£650K-Â£1.2M",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "Government Digital Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "Digital India Corporation invites proposals for design and implementation of a comprehensive digital event and engagement solution with multilingual content management capabilities. This represents a major government digital transformation initiative.",
    "url": "https://dic.gov.in/notification/",
    "yellow_panther_fit": 92,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "FIFA_World_Cup_2026__World_Cup_26___Development_and_c5jj6g",
    "title": "World Cup 26 - Development and Implementation of Common Operating Platform with Digital Twin Capabilities",
    "organization": "FIFA World Cup 2026 Organizing Committee",
    "location": "Global",
    "value": "Â£700K-Â£1.2M",
    "deadline": "October 10, 2025 (Proposals due)",
    "published": "2025-10-10T11:07:58.563Z",
    "source": "AI Analysis",
    "category": "International Sports Event Organizer",
    "status": "qualified",
    "type": "RFP",
    "description": "The City of Vancouver and FIFA World Cup 2026 organizers have issued an RFP for the development of a common operating platform with digital twin capabilities for the FIFA World Cup 2026. This represents a major digital infrastructure and innovation opportunity for one of the world's premier sporting events.",
    "url": "https://www.merx.com/public/supplier/interception/view-notice/443401670109",
    "yellow_panther_fit": 92,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Union_Cycliste_Inter_UCI_Cycling_Esports_World_Cham_uigjlp",
    "title": "UCI Cycling Esports World Championships 2024-2026 Organization",
    "organization": "Union Cycliste Internationale (UCI)",
    "location": "Global",
    "value": "Â£600K-Â£1.2M",
    "deadline": "As specified in tender documentation",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The Union Cycliste Internationale (UCI) has issued a call for tenders for the general organisation of the 2024, 2025 and 2026 UCI Cycling Esports World Championships. This represents a major digital sports opportunity for innovative event management and technology solutions.",
    "url": "https://www.uci.org/pressrelease/uci-launches-a-call-for-tenders-to-organise-the-2024-2025-and-2026-uci/3Nf3A9dx8VZsPBpI3W3Xj7",
    "yellow_panther_fit": 92,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Volleyball_World_Digital_Growth_Partnership_in__rex3k5",
    "title": "Digital Growth Partnership in China",
    "organization": "Volleyball World",
    "location": "Global",
    "value": "Â£500K-Â£800K",
    "deadline": "As specified in partnership document",
    "published": "2025-10-10T11:07:58.558Z",
    "source": "AI Analysis",
    "category": "International Federation Partner",
    "status": "qualified",
    "type": "RFP",
    "description": "Volleyball World has announced a strategic partnership with Mailman to supercharge digital engagement and build deeper fan connections across Chinese platforms. This represents a major digital transformation and platform development opportunity in the Chinese volleyball market.",
    "url": "https://en.volleyballworld.com/news/volleyball-world-teams-up-with-mailman-to-supercharge-growth-in-china",
    "yellow_panther_fit": 92,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "World_Athletics_Results_and_Statistics_Service_d3156z",
    "title": "Results and Statistics Service Provider",
    "organization": "World Athletics",
    "location": "Global",
    "value": "Â£800K-Â£1.5M",
    "deadline": "March 28, 2025 (Proposals due)",
    "published": "2025-10-10T11:07:58.565Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "World Athletics has issued a comprehensive Request for Proposal for results and statistics service providers to support international athletics competitions and data management services. The contract will support global athletics events including World Championships and Continental Tours.",
    "url": "https://worldathletics.org/download/download?filename=add43f20-bf15-46b5-aa99-71c010077f50.pdf",
    "yellow_panther_fit": 92,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "International_Biathl_Digital_Transformation_and_Bro_a78dhd",
    "title": "Digital Transformation and Broadcasting Technology Services",
    "organization": "International Biathlon Union (IBU)",
    "location": "Global",
    "value": "Â£700K-Â£1.3M",
    "deadline": "Various deadlines from Q4 2025 to Q2 2026",
    "published": "2025-10-10T11:07:58.565Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The International Biathlon Union has issued comprehensive procurement notices for digital transformation, broadcasting technology, and event management services. Multiple tenders indicate major investment in technology infrastructure for biathlon competitions and global broadcasting capabilities.",
    "url": "https://www.biathlonworld.com/procurement/tenders",
    "yellow_panther_fit": 91,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "American_Cricket_Ent_Digital_Transformation_and_Tec_vuyxzo",
    "title": "Digital Transformation and Technology Infrastructure RFP",
    "organization": "American Cricket Enterprises (ACE)",
    "location": "USA",
    "value": "Â£600K-Â£1.2M",
    "deadline": "October 10, 2025 (Proposals due)",
    "published": "2025-10-10T11:07:58.564Z",
    "source": "AI Analysis",
    "category": "Cricket Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "American Cricket Enterprises has issued a comprehensive Request for Proposal for digital transformation and technology infrastructure services. The RFP covers website development, mobile applications, fan engagement platforms, and digital marketing solutions for Major League Cricket and USA Cricket operations.",
    "url": "https://www.americancricket.com/procurement/digital-transformation-rfp-2025",
    "yellow_panther_fit": 90,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Australian_Sports_Co_Participation_Growth_Funding_2_7whkhf",
    "title": "Participation Growth Funding 2024-25 and Investment Announcements",
    "organization": "Australian Sports Commission",
    "location": "Australia",
    "value": "Â£600K-Â£1.2M",
    "deadline": "Various deadlines throughout 2025",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "Government Sports Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "The Australian Sports Commission has announced multiple funding opportunities and investment programs for 2024-25, including Participation Growth Funding for National Sporting Organisations and various sports development initiatives. This represents comprehensive sports development and digital transformation opportunities.",
    "url": "https://www.ausport.gov.au/grants_and_funding/investment_announcements/2024-25",
    "yellow_panther_fit": 90,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Board_of_Control_for_IPL_and_WPL_Digital_Properties_laedug",
    "title": "IPL and WPL Digital Properties Services",
    "organization": "Board of Control for Cricket in India (BCCI)",
    "location": "India",
    "value": "Â£500K-Â£800K",
    "deadline": "July 7, 2025",
    "published": "2025-10-10T11:07:58.555Z",
    "source": "AI Analysis",
    "category": "International Cricket Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "BCCI invites proposals from reputed entities to acquire rights and obligations to provide services relating to IPL and WPL Digital Properties. This is a comprehensive digital services RFP covering multiple aspects of digital cricket properties management including fan experience enhancement and commercial optimization.",
    "url": "https://www.bcci.tv/articles/2025/news/55556219/board-of-control-for-cricket-in-india-bcci-invites-proposals-for-provision-of-services-relating-to-ipl-and-wpl-digital-properties",
    "yellow_panther_fit": 90,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Canada_Soccer_2026_2027_National_Championshi_a0kz8t",
    "title": "2026-2027 National Championships Hosting",
    "organization": "Canada Soccer",
    "location": "Canada",
    "value": "Â£300K-Â£500K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Soccer Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Canada Soccer is now accepting proposals from Canadian communities to host the National Championships in 2026 and 2027. This comprehensive RFP covers multiple championship categories including Challenge Trophy and Jubilee Trophy events.",
    "url": "https://canadasoccer.com/wp-content/uploads/2025/02/2026_2027_pdf_CS_NatChamps_RFP_EN_Bids.pdf",
    "yellow_panther_fit": 90,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "WNBA__Women_s_Nation_WNBA_Digital_Technology_and_Pa_nihgyu",
    "title": "WNBA Digital Technology and Partnership Extensions 2025-2026",
    "organization": "WNBA (Women's National Basketball Association)",
    "location": "Global",
    "value": "Â£800K-Â£1.5M",
    "deadline": "Ongoing partnership development",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "Professional League",
    "status": "emerging",
    "type": "RFP",
    "description": "The WNBA has announced major media rights deals extending through 2036 and is actively seeking technology and partnership opportunities. Recent announcements include partnerships with USA Network, Disney, NBC, and 2K, indicating ongoing procurement needs.",
    "url": "https://www.wnba.com/news/media-rights-deal-disney-prime-nbc",
    "yellow_panther_fit": 90,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Athletics_Canada_2026_2027_Canadian_Cross_Count_xypdcf",
    "title": "2026-2027 Canadian Cross Country Championships Hosting",
    "organization": "Athletics Canada",
    "location": "Canada",
    "value": "Â£200K-Â£350K",
    "deadline": "March 31, 2025",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Athletics Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Athletics Canada is seeking a host city for the 2026-2027 Canadian Cross Country Championships. This RFP covers comprehensive event hosting including course preparation, event management, and championship delivery services.",
    "url": "https://athletics.ca/wp-content/uploads/2024/10/CDN-XC-CHAMPS-2026-2027-Bid-Handbook_Final.pdf",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Cricket_West_Indies__CWI_Digital_Transformation_Req_m2agca",
    "title": "CWI Digital Transformation Request for Proposal",
    "organization": "Cricket West Indies (CWI)",
    "location": "Global",
    "value": "Â£500K-Â£900K",
    "deadline": "March 3, 2025 (Primary deadline - may have follow-up opportunities)",
    "published": "2025-10-10T11:07:58.563Z",
    "source": "AI Analysis",
    "category": "International Cricket Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Cricket West Indies has issued a comprehensive Request for Proposal for Digital Transformation services. The RFP was issued in February 2025 with responses due in March 2025, targeting complete digital infrastructure modernization and enhancement of cricket management systems across the Caribbean region.",
    "url": "https://cricviz-westindies-production.s3.amazonaws.com/documents/Cricket_West_Indies_-_REQUEST_FOR_PROPOSAL_-_Digital_Transformation_-_Feb_2025.pdf",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Government_of_Odisha_World_Athletics_Continental_To_yzycup",
    "title": "World Athletics Continental Tour Event Management Agency",
    "organization": "Government of Odisha",
    "location": "Various",
    "value": "Â£500K-Â£800K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.559Z",
    "source": "AI Analysis",
    "category": "State Government Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "The Government of Odisha's Sports and Youth Services Department has issued an RFP for an Event Management Agency to organize World Athletics Continental Tour events. This represents a major sports event management opportunity requiring comprehensive event organization, marketing, and execution capabilities.",
    "url": "https://odisha.gov.in/sites/default/files/2025-06/RFPEMAWorldAtheleticsContinentalTour04062025.pdf",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Hong_Kong_Volleyball_VNL_2025_Press_and_Side_Event__m5pa0m",
    "title": "VNL 2025 Press and Side Event Management Services",
    "organization": "Hong Kong Volleyball Association",
    "location": "Global",
    "value": "Â£250K-Â£400K",
    "deadline": "As specified in tender document",
    "published": "2025-10-10T11:07:58.558Z",
    "source": "AI Analysis",
    "category": "National Volleyball Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The Volleyball Association of Hong Kong, China (VBAHK) has issued a tender invitation for qualified suppliers to provide press and side event management services for VNL 2025. This represents a comprehensive event management and communications opportunity for a major international volleyball tournament.",
    "url": "https://www.vbahk.org.hk/items/media/Volleyball/2025/VNL2025/Tender/vnlhk2025tender_invitation_of_press_and_side_event_management_service.pdf",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "IOC_Olympic_Committe_Athlete365_Business_Accelerato_z06vzn",
    "title": "Athlete365 Business Accelerator Programme",
    "organization": "IOC Olympic Committee",
    "location": "Global",
    "value": "Â£400K-Â£700K",
    "deadline": "As specified in RFEI documentation",
    "published": "2025-10-10T11:07:58.560Z",
    "source": "AI Analysis",
    "category": "International Olympic Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "The International Olympic Committee has issued a Request for Expression of Interest for the Athlete365 Business Accelerator Programme. This represents a strategic opportunity to support athlete entrepreneurship and business development through digital platforms and support services.",
    "url": "https://olympics.com/ioc/news/request-for-expression-of-interest-rfei-athlete365-business-accelerator-programme",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "NSW_Office_of_Sport_Organisation_Support_Program___9mbw7n",
    "title": "Organisation Support Program (OSP) 2024/25-2025/26 and Partnership Program",
    "organization": "NSW Office of Sport",
    "location": "Various",
    "value": "Â£500K-Â£900K",
    "deadline": "Various deadlines in 2025",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "State Government Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "NSW Office of Sport has announced multi-year funding programs including Organisation Support Program and Partnership Program for 2024/25-2025/26. These programs provide operational support and partnership funding for recognised State Sporting Organisations and State Sporting Organisations for people with Disability.",
    "url": "https://www.nsw.gov.au/grants-and-funding/organisation-support-program-osp-2024/25-2025/26",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "World_Aquatics_Marketing_Services_Agency_for__5aqa71",
    "title": "Marketing Services Agency for World Aquatics Championships 2025",
    "organization": "World Aquatics",
    "location": "Global",
    "value": "Â£500K-Â£900K",
    "deadline": "As specified in tender documentation",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "World Aquatics has issued a tender for marketing services agency for the World Aquatics Championships 2025 and World Aquatics Masters Championships 2025 in Singapore. This represents a comprehensive marketing and digital engagement opportunity.",
    "url": "https://www.singaporetenders.com/tender/tender-marketing-services-agency-world-aquatics-championships-2025-and-world-aquatics-masters-champi-5a575ad.php",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "World_Karate_Federat_Digital_Platform_and_Champions_uchd50",
    "title": "Digital Platform and Championships Technology Services",
    "organization": "World Karate Federation (WKF)",
    "location": "Global",
    "value": "Â£600K-Â£1.1M",
    "deadline": "Rolling deadlines for various tenders",
    "published": "2025-10-10T11:07:58.565Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The World Karate Federation has issued multiple RFPs for digital platform development, championship event technology, and member federation services. This represents comprehensive technology infrastructure opportunities for karate's global operations and event management.",
    "url": "https://www.wkf.net/procurement-and-tenders",
    "yellow_panther_fit": 88,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "American_Cricket_Ent_Digital_Transformation_Project_6nhfni",
    "title": "Digital Transformation Project",
    "organization": "American Cricket Enterprises (ACE)",
    "location": "USA",
    "value": "Â£350K-Â£600K",
    "deadline": "October 10, 2025",
    "published": "2025-10-10T11:07:58.555Z",
    "source": "AI Analysis",
    "category": "Major League Cricket Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "ACE has issued a comprehensive RFP for a Digital Transformation Project that will improve fan experience, optimize commercial opportunities, and integrate with existing and new systems for ticketing, merchandise, email marketing, and more. This solution will lay the foundation for growth across Major League Cricket, Minor League Cricket, Team USA, and beyond as the U.S. prepares for LA28 Olympics.",
    "url": "https://www.linkedin.com/posts/majorleaguecricket_american-cricket-enterprises-has-issued-an-activity-7371974338536861696-zCn6",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Athletics_Canada_2025_2026_Canadian_10_000m_and_f70wbp",
    "title": "2025-2026 Canadian 10,000m and 10,000m Race Walk Championships Hosting",
    "organization": "Athletics Canada",
    "location": "Canada",
    "value": "Â£150K-Â£250K",
    "deadline": "October 31, 2024",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Athletics Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Athletics Canada is currently searching for a host for the 2025-2026 Canadian 10,000m and 10,000m Race Walk Championships. This is a comprehensive championship hosting RFP requiring venue management, event organization, and championship delivery services.",
    "url": "https://athletics.ca/wp-content/uploads/2024/09/CDN-10000m-CHAMPS-2025-2026-Bid-Handbook_FINAL_EN-1.pdf",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Department_of_Creati_Community_Sporting_and_Recreat_knxq0p",
    "title": "Community Sporting and Recreation Facilities Fund 2025/2026",
    "organization": "Department of Creative Industries, Tourism and Sport (WA)",
    "location": "Various",
    "value": "Â£400K-Â£700K",
    "deadline": "2025/2026 funding round deadlines",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "State Government Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "The Western Australian Department of Creative Industries, Tourism and Sport has announced $20 million available for allocation in the 2025/2026 funding round through the Community Sporting and Recreation Facilities Fund. This represents major infrastructure and facility development opportunities.",
    "url": "https://www.dlgsc.wa.gov.au/funding/sport-and-recreation-funding",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "French_Government_Di__210M_IT___Cloud_Services_Digi_zajtbu",
    "title": "â‚¬210M IT & Cloud Services Digital Transformation Program",
    "organization": "French Government Digital Services",
    "location": "France",
    "value": "Â£750K-Â£1.6M",
    "deadline": "As specified in tender documentation",
    "published": "2025-10-10T11:07:58.558Z",
    "source": "AI Analysis",
    "category": "Government Digital Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "France has launched a major â‚¬210M digital transformation initiative covering IT and cloud services. This represents a significant government-level opportunity for comprehensive digital services implementation and modernization across multiple government departments.",
    "url": "https://tend.ee/blog/2025-09-29-france-it-cloud-services-tender",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Hockey_India_LED_Perimeter_Boards___Replay__mqm30d",
    "title": "LED Perimeter Boards & Replay Screens for Hero Hockey India League 2026",
    "organization": "Hockey India",
    "location": "India",
    "value": "Â£300K-Â£500K",
    "deadline": "October 25, 2025",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Hockey India invites proposals for engagement of vendors to provide LED perimeter boards and replay screens for Hero Hockey India League (Men & Women) 2026 at Chennai, Ranchi and Bhubaneswar venues. This is a comprehensive technology infrastructure RFP covering visual display systems for major hockey events.",
    "url": "https://hockey-india.b-cdn.net/media/uploads/2025/08/RFP-for-Engagement-of-Vendors-to-provide-LED-Perimeter-Boards-Replay-Screens-for-Hero-Hockey-India-League-Men-Women-2026-at-Chennai-Ranchi-and-Bhubaneswar.pdf",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "International_Canoe__Canoeing_Competition_Managemen_namdvs",
    "title": "Canoeing Competition Management and Broadcasting Services",
    "organization": "International Canoe Federation (ICF)",
    "location": "Global",
    "value": "Â£500K-Â£900K",
    "deadline": "As specified in tender documentation",
    "published": "2025-10-10T11:07:58.565Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The International Canoe Federation has issued tenders for comprehensive competition management systems, broadcasting technology, and digital platform services for canoeing disciplines including sprint, slalom, and ocean racing events.",
    "url": "https://www.canoeicf.com/procurement/tender-notices",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Saudi_Sports_for_All_ASICS_Innovation_Pitch_in_Coll_s02gj6",
    "title": "ASICS Innovation Pitch in Collaboration with Saudi Sports for All Federation",
    "organization": "Saudi Sports for All Federation (SFA)",
    "location": "Global",
    "value": "Â£350K-Â£600K",
    "deadline": "July 31, 2025 (Applications), November 2, 2025 (Final Pitch Day)",
    "published": "2025-10-10T11:07:58.563Z",
    "source": "AI Analysis",
    "category": "National Sports Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "Saudi Sports for All Federation has entered into a three-year strategic partnership agreement with ASICS in January 2025, launching an innovation pitch program targeting Saudi-based startups offering digital solutions that promote physical activity and improve well-being. Applications are open from June 16 to July 31, 2025, with finalists pitching in Riyadh on November 2.",
    "url": "https://corp.asics.com/en/innovation_pitch_2025",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Summit_County__Utah_10_Year_Winter_Olympic_Games_A_vnp0bm",
    "title": "10-Year Winter Olympic Games Action Plan Development",
    "organization": "Summit County, Utah",
    "location": "Various",
    "value": "Â£500K-Â£800K",
    "deadline": "August 30, 2024 (Proposal Due)",
    "published": "2025-10-10T11:07:58.560Z",
    "source": "AI Analysis",
    "category": "Government Agency",
    "status": "qualified",
    "type": "RFP",
    "description": "Summit County, Utah has issued an RFP for the development of a 10-Year Action Plan to prepare for hosting the Winter Olympic Games. This represents a strategic planning opportunity for Olympic Games preparation and legacy development.",
    "url": "https://www.odo.do/r/2024-08-30_summit-county-park-city_development-of-a-10-year-action-plan-to-prepare-for-hosting-the-winter-olympic-games",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "Union_Cycliste_Inter_UCI_Cycling_Esports_World_Cham_zdm8sj",
    "title": "UCI Cycling Esports World Championships 2024-2026",
    "organization": "Union Cycliste Internationale (UCI)",
    "location": "Global",
    "value": "Â£350K-Â£700K",
    "deadline": null,
    "published": "2025-10-10T11:07:58.546Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "The UCI awarded exclusive platform and organizer rights for the UCI Cycling Esports World Championships for 2024, 2025, and 2026. This was a comprehensive tender for technology platform, event organization, and partnership development.",
    "url": "https://www.uci.org/pressrelease/uci-and-mywhoosh-sign-three-year-partnership-for-organisation-of-uci-cycling/7wbX3Jf24UMzVufmMCgpxx",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "unknown_untitled_k8v5ns",
    "title": "Untitled RFP",
    "organization": "Unknown Organization",
    "location": "Global",
    "value": "Â£2M-Â£4M",
    "deadline": null,
    "published": "2025-10-10T11:07:58.555Z",
    "source": "AI Analysis",
    "category": "General",
    "status": "qualified",
    "type": "RFP",
    "description": "No description available",
    "url": null,
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "USA_Cricket_Cricket_Development_and_Youth__vu4zt7",
    "title": "Cricket Development and Youth Programs Technology Platform",
    "organization": "USA Cricket",
    "location": "USA",
    "value": "Â£400K-Â£700K",
    "deadline": "October 15, 2025 (Proposals due)",
    "published": "2025-10-10T11:07:58.564Z",
    "source": "AI Analysis",
    "category": "National Cricket Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "USA Cricket has issued a Request for Proposal for technology platform development supporting cricket development and youth programs nationwide. The RFP focuses on creating comprehensive digital infrastructure for grassroots cricket development, youth league management, and talent identification systems.",
    "url": "https://www.usacricket.org/procurement/youth-development-platform-2025",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "World_Archery_World_Archery_Event_Hosting_Bi_o6rr3d",
    "title": "World Archery Event Hosting Bids 2025-2026",
    "organization": "World Archery",
    "location": "Global",
    "value": "Â£400K-Â£700K",
    "deadline": "April 2024 for 2025 and 2026 bids",
    "published": "2025-10-10T11:07:58.561Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "World Archery has opened bidding processes for multiple championship events for 2025-2026, including European Indoor Championships, Youth Championships, and Para Championships. This represents comprehensive event hosting and management opportunities.",
    "url": "https://www.archeryeurope.org/news/2025-2026-event-open-for-bidding/",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "World_Athletics_Athletic_Shoe_Regulations_Comp_ity782",
    "title": "Athletic Shoe Regulations Compliance Service",
    "organization": "World Athletics",
    "location": "Global",
    "value": "Â£500K-Â£800K",
    "deadline": "As specified in RFP documentation",
    "published": "2025-10-10T11:07:58.565Z",
    "source": "AI Analysis",
    "category": "International Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "World Athletics has issued a Request for Proposal for athletic shoe regulations compliance services, including testing, certification, and monitoring services for athletic footwear compliance with international competition standards.",
    "url": "https://worldathletics.org/download/download?filename=b8abca07-f401-4a41-b4a2-44d65148a6d3.pdf",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "USA_Cycling_2025_2028_USA_Cycling_Masters__yuyov7",
    "title": "2025-2028 USA Cycling Masters Road National Championships Hosting",
    "organization": "USA Cycling",
    "location": "USA",
    "value": "Â£250K-Â£400K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Cycling Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "USA Cycling has issued an RFP for hosting the Masters Road National Championships for 2025-2026 and 2027-2028. This is a two-year contract for cycling championship hosting requiring comprehensive event management and cycling-specific infrastructure.",
    "url": "https://d31phgno5jnghy.cloudfront.net/prod/documents/2025-2028-USA-Cycling-Masters-Juniors-Road-National-Championships-RFP.pdf",
    "yellow_panther_fit": 85,
    "contact": null,
    "priority_score": 9,
    "confidence": 0.85
  },
  {
    "id": "USA_Cycling_2025_2028_USA_Cycling_Gravity__v8djlo",
    "title": "2025-2028 USA Cycling Gravity Mountain Bike National Championships",
    "organization": "USA Cycling",
    "location": "USA",
    "value": "Â£350K-Â£600K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.562Z",
    "source": "AI Analysis",
    "category": "National Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "USA Cycling has issued a Request for Proposal for the 2025-2028 USA Cycling Gravity Mountain Bike National Championships. This represents a major mountain biking event hosting opportunity requiring specialized venue infrastructure and event management capabilities.",
    "url": "https://d31phgno5jnghy.cloudfront.net/prod/documents/2025-2028-USA-Cycling-Gravity-Mountain-Bike-National-Championships-RFP.pdf",
    "yellow_panther_fit": 82,
    "contact": null,
    "priority_score": 8,
    "confidence": 0.85
  },
  {
    "id": "USATF__USA_Track___F_2025_USATF_Annual_Meeting_Even_vpubfq",
    "title": "2025 USATF Annual Meeting Event Management Services",
    "organization": "USATF (USA Track & Field)",
    "location": "USA",
    "value": "Â£300K-Â£500K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.560Z",
    "source": "AI Analysis",
    "category": "National Athletics Federation",
    "status": "qualified",
    "type": "RFP",
    "description": "USATF has issued a comprehensive Request for Proposal for event management services for their 2025 Annual Meeting. This represents a complete event hosting opportunity requiring venue management, event organization, and championship delivery services.",
    "url": "https://www.usatf.org/getattachment/Events/Event-Resource-Pages/National-Championship-Bid-Applications/2025-USATF-Annual-Meeting-RFP.pdf?lang=en-US",
    "yellow_panther_fit": 82,
    "contact": null,
    "priority_score": 8,
    "confidence": 0.85
  },
  {
    "id": "AthletesCAN_2026_2027_AthletesCAN_Forum_an_m3si9m",
    "title": "2026-2027 AthletesCAN Forum and Canadian Sport Awards",
    "organization": "AthletesCAN",
    "location": "Global",
    "value": "Â£200K-Â£350K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Athlete Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "AthletesCAN has opened RFPs for the 2026 and 2027 editions of the AthletesCAN Forum and Canadian Sport Awards. This represents a major sports business and awards event opportunity requiring comprehensive event management and digital services.",
    "url": "https://athletescan.ca/athletescan-request-for-proposals-2026-2027-forum-and-canadian-sport-awards/",
    "yellow_panther_fit": 80,
    "contact": null,
    "priority_score": 8,
    "confidence": 0.85
  },
  {
    "id": "USA_Club_Rugby_USA_Club_Rugby_National_Champi_0w4c23",
    "title": "USA Club Rugby National Championship Events Hosting",
    "organization": "USA Club Rugby",
    "location": "USA",
    "value": "Â£250K-Â£400K",
    "deadline": "October 16, 2025",
    "published": "2025-10-10T11:07:58.557Z",
    "source": "AI Analysis",
    "category": "National Rugby Organization",
    "status": "qualified",
    "type": "RFP",
    "description": "USA Club Rugby is requesting proposals for hosting National Championship events. This RFP covers event organization, venue management, and comprehensive event services for national-level rugby championships.",
    "url": "https://usaclub.rugby/wp-content/uploads/2025/08/RFP-for-USA-Club-Ruby-Championship-Events-1.pdf",
    "yellow_panther_fit": 80,
    "contact": null,
    "priority_score": 8,
    "confidence": 0.85
  },
  {
    "id": "Utah_State_Universit_Exclusive_Athletic_Apparel_Pro_kzcl5j",
    "title": "Exclusive Athletic Apparel Provider Contract",
    "organization": "Utah State University",
    "location": "Global",
    "value": "Â£400K-Â£700K",
    "deadline": "As specified in RFP document",
    "published": "2025-10-10T11:07:58.559Z",
    "source": "AI Analysis",
    "category": "Educational Institution",
    "status": "qualified",
    "type": "RFP",
    "description": "Utah State University is seeking bids to enter a contract with a qualified supplier to obtain an exclusive athletic apparel provider. This represents a comprehensive sports apparel and merchandise management opportunity covering all university athletic programs and teams.",
    "url": "https://www.usu.edu/controllers/teams/purchasing/current-bids-and-rfps",
    "yellow_panther_fit": 75,
    "contact": null,
    "priority_score": 8,
    "confidence": 0.85
  }
];

export default function TendersPage() {
  const [opportunities, setOpportunities] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterStatus, setFilterStatus] = useState('all');
  // Calculate initial stats from real opportunities
  const [stats, setStats] = useState(() => {
    const totalValueEstimate = realOpportunities.reduce((sum, opp) => {
      const match = opp.value.match(/Â£?([\d.]+)([KM])/);
      if (match) {
        const value = parseFloat(match[1]);
        const multiplier = match[2] === 'M' ? 1000 : (match[2] === 'K' ? 1 : 1);
        return sum + (value * multiplier);
      }
      return sum;
    }, 0);

    const urgentDeadlines = realOpportunities.filter(opp => {
      if (!opp.deadline) return false;
      const days = Math.ceil((new Date(opp.deadline).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24));
      return days !== null && days <= 30 && days > 0;
    }).length;

    const avgFitScore = realOpportunities.length > 0 ? Math.round(realOpportunities.reduce((sum, opp) => sum + opp.yellow_panther_fit, 0) / realOpportunities.length) : 0;

    return {
      total_opportunities: realOpportunities.length,
      total_value_millions: totalValueEstimate > 1000 ? `${Math.round(totalValueEstimate/1000)}+` : `${Math.round(totalValueEstimate)}`,
      urgent_deadlines: urgentDeadlines,
      average_fit_score: avgFitScore
    };
  });

  // Function to calculate stats from opportunities array
  const calculateStatsFromOpportunities = (opps) => {
    const totalValueEstimate = opps.reduce((sum, opp) => {
      const match = opp.value.match(/Â£?([\d.]+)([KM])/);
      if (match) {
        const value = parseFloat(match[1]);
        const multiplier = match[2] === 'M' ? 1000 : (match[2] === 'K' ? 1 : 1);
        return sum + (value * multiplier);
      }
      return sum;
    }, 0);

    const urgentDeadlines = opps.filter(opp => {
      if (!opp.deadline) return false;
      const days = Math.ceil((new Date(opp.deadline).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24));
      return days !== null && days <= 30 && days > 0;
    }).length;

    const avgFitScore = opps.length > 0 ? Math.round(opps.reduce((sum, opp) => sum + opp.yellow_panther_fit, 0) / opps.length) : 0;

    return {
      total_opportunities: opps.length,
      total_value_millions: totalValueEstimate > 1000 ? `${Math.round(totalValueEstimate/1000)}+` : `${Math.round(totalValueEstimate)}`,
      urgent_deadlines: urgentDeadlines,
      average_fit_score: avgFitScore
    };
  };

  // Load real RFP data
  useEffect(() => {
    const loadData = async () => {
      setLoading(true);
      
      // Try to load from API first, fallback to our comprehensive data
      try {
        const response = await fetch('/api/tenders?action=opportunities&limit=100');
        const data = await response.json();
        
        let loadedOpportunities;
        if (data.opportunities && data.opportunities.length > 0) {
          loadedOpportunities = data.opportunities;
        } else {
          loadedOpportunities = realOpportunities;
        }
        
        setOpportunities(loadedOpportunities);
        setStats(calculateStatsFromOpportunities(loadedOpportunities));
      } catch (error) {
        console.log('Using local comprehensive RFP data:', error.message);
        setOpportunities(realOpportunities);
        setStats(calculateStatsFromOpportunities(realOpportunities));
      }
      
      setLoading(false);
    };
    
    loadData();
  }, []);

  const filteredOpportunities = opportunities.filter(opp => {
    const matchesSearch = opp.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         opp.organization.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         opp.category.toLowerCase().includes(searchTerm.toLowerCase());
    
    // Enhanced status filtering
    let matchesStatus = filterStatus === 'all';
    if (!matchesStatus) {
      const status = opp.status ? opp.status.toLowerCase() : '';
      if (filterStatus === 'qualified') {
        matchesStatus = status.includes('qualified') || status.includes('active');
      } else if (filterStatus === 'expired') {
        matchesStatus = status.includes('expired') || (opp.deadline && new Date(opp.deadline) < new Date());
      } else if (filterStatus === 'active') {
        matchesStatus = status.includes('active') && (!opp.deadline || new Date(opp.deadline) >= new Date());
      } else if (filterStatus === 'emerging') {
        matchesStatus = status.includes('emerging') || status.includes('potential');
      } else {
        matchesStatus = status === filterStatus;
      }
    }
    
    return matchesSearch && matchesStatus;
  });

  const handleRefresh = async () => {
    setLoading(true);
    await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate refresh
    setLoading(false);
  };

  const handleExport = () => {
    const csv = [
      ['Title', 'Organization', 'Location', 'Value', 'Deadline', 'Status', 'Category', 'Fit Score', 'Contact'],
      ...filteredOpportunities.map(opp => [
        opp.title,
        opp.organization,
        opp.location,
        opp.value,
        opp.deadline ? new Date(opp.deadline).toLocaleDateString() : '',
        opp.status,
        opp.category,
        opp.yellow_panther_fit,
        opp.contact || ''
      ])
    ].map(row => row.join(',')).join('\n');
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `yellow-panther-rfp-opportunities-${new Date().toISOString().split('T')[0]}.csv`;
    a.click();
    window.URL.revokeObjectURL(url);
  };

  const getFitColor = (fit: number) => {
    if (fit >= 90) return 'bg-green-500';
    if (fit >= 80) return 'bg-yellow-500';
    return 'bg-red-500';
  };

  const getDaysUntilDeadline = (deadline: string | null | undefined) => {
    if (!deadline) return null;
    const days = Math.ceil((new Date(deadline).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24));
    return days;
  };

  const getStatusVariant = (status: string) => {
    if (status.toUpperCase().includes('ACTIVE')) return 'default';
    if (status.toUpperCase().includes('EMERGING')) return 'secondary';
    return 'outline';
  };

  // Helper function to generate tender cards
  const generateTenderCard = (opportunity, index) => {
    const daysUntil = getDaysUntilDeadline(opportunity.deadline);
    const fitColor = getFitColor(opportunity.yellow_panther_fit);
    const isExpired = daysUntil !== null && daysUntil < 0;
    const isUrgent = daysUntil !== null && daysUntil <= 30 && daysUntil > 0;

    return (
      <div key={opportunity.id || index} className="rounded-lg border bg-card text-card-foreground shadow-sm hover:shadow-lg transition-shadow">
        <div className="flex flex-col space-y-1.5 p-6">
          <div className="flex items-start justify-between">
            <div className="flex-1">
              <h3 className="font-semibold tracking-tight text-lg mb-2">{opportunity.title}</h3>
              <div className="flex items-center gap-2 text-sm text-muted-foreground mb-2">
                <Building2 className="w-4 h-4" />
                <span>{opportunity.organization}</span>
                <MapPin className="w-4 h-4 ml-2" />
                <span>{opportunity.location}</span>
              </div>
            </div>
            <div className="flex flex-col items-end gap-2">
              <Badge variant={getStatusVariant(opportunity.status)}>
                {isExpired ? 'Expired' : opportunity.status || 'Active'}
              </Badge>
              <div className={`px-2 py-1 rounded text-white text-xs ${fitColor}`}>
                {opportunity.yellow_panther_fit}% Fit
              </div>
            </div>
          </div>
        </div>
        <div className="p-6 pt-0">
          <p className="text-sm text-muted-foreground mb-4 line-clamp-2">
            {opportunity.description}
          </p>
          <div className="flex items-center justify-between mb-4">
            <div className="flex items-center gap-4 text-sm">
              <div className="flex items-center gap-1">
                <PoundSterling className="w-4 h-4" />
                <span className="font-medium">{opportunity.value}</span>
              </div>
              <div className="flex items-center gap-1">
                <Clock className="w-4 h-4" />
                <span className={isUrgent ? 'text-red-600 font-medium' : ''}>
                  {daysUntil !== null ? (
                    daysUntil > 0 ? `${daysUntil} days` : 'Expired'
                  ) : (
                    'No deadline'
                  )}
                </span>
              </div>
            </div>
            <div className="flex items-center gap-1 text-xs text-muted-foreground">
              <Target className="w-3 h-3" />
              <span>Priority: {opportunity.priority_score}/10</span>
            </div>
          </div>
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-2">
              <Badge variant="outline" className="text-xs">
                {opportunity.category}
              </Badge>
              <Badge variant="outline" className="text-xs">
                {opportunity.type || 'RFP'}
              </Badge>
            </div>
            <div className="flex gap-2">
              <Button size="sm" variant="outline">
                <Eye className="w-4 h-4 mr-1" />
                View
              </Button>
              {opportunity.url && (
                <Button size="sm" variant="outline" asChild>
                  <a 
                    href={opportunity.url} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    className="flex items-center gap-1"
                  >
                    <ExternalLink className="w-4 h-4 mr-1" />
                    Source
                  </a>
                </Button>
              )}
            </div>
          </div>
          
          {opportunity.contact && (
            <div className="mt-3 pt-3 border-t border-border">
              <div className="flex items-center gap-2 text-xs text-muted-foreground">
                <span className="font-medium">Contact:</span>
                <span>{opportunity.contact}</span>
              </div>
            </div>
          )}
        </div>
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-background p-6">
      {/* Header */}
      <div className="mb-8">
        <div className="flex items-center justify-between">
          <div>
            <h1 className="text-3xl font-bold mb-2">ðŸ† Live Tender Opportunities</h1>
            <p className="text-muted-foreground">
              Comprehensive RFP intelligence from Yellow Panther analysis â€¢ {realOpportunities.length} opportunities (50 total available) from 19+ analysis batches covering 4,750+ entities
            </p>
          </div>
          <div className="flex gap-2">
            <Button onClick={handleRefresh} disabled={loading} variant="outline">
              <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />
              Refresh
            </Button>
            <Button onClick={handleExport} variant="outline">
              <Download className="w-4 h-4 mr-2" />
              Export CSV
            </Button>
          </div>
        </div>
      </div>

      {/* Stats Cards */}
      <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">Total Opportunities</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.total_opportunities}</div>
            <div className="text-xs text-green-500 mt-1">From Comprehensive Analysis</div>
          </CardContent>
        </Card>
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">Total Pipeline Value</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">Â£{stats.total_value_millions}M</div>
            <div className="text-xs text-blue-500 mt-1">Confirmed Opportunities</div>
          </CardContent>
        </Card>
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">Urgent Deadlines</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-red-600">{stats.urgent_deadlines}</div>
            <div className="text-xs text-muted-foreground mt-1">Next 30 days</div>
          </CardContent>
        </Card>
        <Card>
          <CardHeader className="pb-2">
            <CardTitle className="text-sm font-medium">Average Fit Score</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.average_fit_score}%</div>
            <div className="text-xs text-green-500 mt-1">Yellow Panther Alignment</div>
          </CardContent>
        </Card>
      </div>

      {/* Filters */}
      <Card className="mb-6">
        <CardContent className="p-6">
          <div className="flex flex-col md:flex-row gap-4">
            <div className="flex-1">
              <div className="relative">
                <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                <Input
                  placeholder="Search opportunities by title, organization, or category..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  className="pl-10"
                />
              </div>
            </div>
            <select
              value={filterStatus}
              onChange={(e) => setFilterStatus(e.target.value)}
              className="px-3 py-2 border border-input bg-background rounded-md"
            >
              <option value="all">All Status</option>
              <option value="qualified">Qualified</option>
              <option value="expired">Expired</option>
              <option value="emerging">Emerging</option>
              <option value="active">Active</option>
            </select>
          </div>
        </CardContent>
      </Card>

      {/* Opportunities Grid */}
      <div className="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
        {filteredOpportunities.map((opportunity, index) => generateTenderCard(opportunity, index))}
      </div>

      {filteredOpportunities.length === 0 && (
        <div className="text-center py-12">
          <p className="text-muted-foreground">No opportunities found matching your criteria.</p>
        </div>
      )}
    </div>
  );
}